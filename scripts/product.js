(()=>{"use strict";function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,e=new Array(n);c<n;c++)e[c]=t[c];return e}function n(n,c){if(n){if("string"==typeof n)return t(n,c);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(n,c):void 0}}function c(c){return function(n){if(Array.isArray(n))return t(n)}(c)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(c)||n(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return'\n  <div class="counter">\n    <input\n      type="number"\n      class="counter__display"\n      value="'.concat(t,'"\n      min="').concat(c,'"\n      max="99"\n      step="').concat(n,'"\n      data-multiplier\n    >\n    <input\n      type="button"\n      class="counter__action counter__action--decrement btn-reset"\n      value="-"\n      aria-label="Вычесть одну штуку"\n    >\n    <input\n      type="button"\n      class="counter__action counter__action--increment btn-reset"\n      value="+"\n      aria-label="Добавить одну штуку"\n    >\n  </div>\n')};function a(t){var n=t.target.value,c=t.target.min;n<0?t.target.value=0:n>99?t.target.value=99:""===n&&(t.target.value=c)}var o=function(t){return'\n  <div class="popup">\n    <button class="popup__open btn-reset btn--primary" aria-label="Открыть попап">?</button>\n    <p class="popup__text">'.concat(t,"</p>\n  </div>\n")};function r(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var c=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=c){var e,a,o=[],r=!0,d=!1;try{for(c=c.call(t);!(r=(e=c.next()).done)&&(o.push(e.value),!n||o.length!==n);r=!0);}catch(t){d=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(d)throw a}}return o}}(t,c)||n(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d="http://localhost:5000",i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat(d).concat(t),n)};function s(t,n){var c="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!c){if(Array.isArray(t)||(c=function(t,n){if(!t)return;if("string"==typeof t)return l(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);"Object"===c&&t.constructor&&(c=t.constructor.name);if("Map"===c||"Set"===c)return Array.from(t);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(t,n)}(t))||n&&t&&"number"==typeof t.length){c&&(t=c);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,d=!1;return{s:function(){c=c.call(t)},n:function(){var t=c.next();return r=t.done,t},e:function(t){d=!0,o=t},f:function(){try{r||null==c.return||c.return()}finally{if(d)throw o}}}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,e=new Array(n);c<n;c++)e[c]=t[c];return e}function p(){var t=this,n=document.querySelector(".modal");[document.querySelector("[data-modal-open]"),document.querySelector("#modal-close")].forEach((function(c){return c.addEventListener("click",u.bind(t,n))})),function(t){t.querySelector(".modal-form").addEventListener("submit",(function(n){n.preventDefault();var c,e=new FormData(n.target),a={link:location.href},o=s(e);try{for(o.s();!(c=o.n()).done;){var d=r(c.value,2),l=d[0],p=d[1];a[l]=p}}catch(t){o.e(t)}finally{o.f()}i("/order/measure",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(){alert("Наш менеджер перезвонит вам в ближайшее время"),u(t)}))}))}(n)}function u(t){t.classList.toggle("modal--active"),document.body.classList.toggle("scroll-disabled")}var _=function(t){return String(t).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},m=function(){return JSON.parse(localStorage.getItem("cart"))},v=function(t,n){var c=document.createElement("div");c.classList.add("loader"),n&&(c.style.position="absolute"),t.appendChild(c)},b=function(){document.querySelector(".loader").remove()},f=document.querySelector(".breadcrumbs__list"),y="tabs__item--active",h="active";function g(){var t,n=document.querySelectorAll(".tabs__item");(t=location.hash.substring(1))&&x(document.querySelector("[data-id=".concat(t,"]"))),n.forEach((function(t){return t.addEventListener("click",(function(t){return x(t.target)}))}))}function x(t){var n=t.dataset.id,c=document.querySelector("#".concat(n)),e=document.querySelector(".".concat(y));e&&e.classList.remove(y),t.classList.add(y);var a=document.querySelector("[id].".concat(h));a&&a.classList.remove(h),c.classList.add(h)}var q=document.querySelector(".card"),S=q.querySelector(".card__container"),w=new URL(location.href).searchParams,L=w.get("index"),j=w.get("type"),A={doors:"Каталог дверей",accessories:"Каталог погонажа",furniture:"Каталог фурнитуры",arch:"Каталог арок","iron-doors":"Каталог железных дверей"};function E(t){var n=this;i(t).then((function(t){return t.json()})).then((function(t){var c,r,d,i,s,l,u,m;b(),r=(c=t).product,d=c.colors,i=c.sizes,s=c.glasses,l=c.innerColors,u=c.outerColors,S.innerHTML="",S.insertAdjacentHTML("beforeend",function(t,n,c,a,r,d){var i=t.articul,s=t.name,l=t.stock,p=t.sale,u=t.novinka,m=t.akciya,v=t.price_rozn,b=t.model,f=t.color,y=t.size,h=t.canvas_type,g=t.coverage_type,x=t.thickness,q=t.style,S=t.collection,w=t.glass,L=t.packing,j=t.features,A=t.box_v1,E=t.box_v1_price_rozn,z=t.box_v2,k=t.box_v2_price_rozn,I=t.box_v3,T=t.box_v3_price_rozn,C=t.box_v4,O=t.box_v4_price_rozn,H=t.platband_v1,M=t.platband_v1_price_rozn,N=t.platband_v2,U=t.platband_v2_price_rozn,J=t.platband_v3,P=t.platband_v3_price_rozn,$=t.platband_v4,D=t.platband_v4_price_rozn,R=t.feigned_strap_v1,B=t.feigned_strap_v1_price_rozn,G=t.dobor_100_v1,V=t.dobor_100_v1_price_rozn,X=t.dobor_150_v1,F=t.dobor_150_v1_price_rozn,K=t.dobor_200_v1,Q=t.dobor_200_v1_price_rozn,W=t.brand,Y=t.weight,Z=t.group,tt=t.parent_group,nt=t.part_v1,ct=t.part_v1_value,et=t.part_v2,at=t.part_v2_value,ot=t.part_v3,rt=t.part_v3_value,dt=t.part_v4,it=t.part_v4_value,st=t.part_v5,lt=t.part_v5_value,pt=t.part_v6,ut=t.part_v6_value,_t=t.part_v7,mt=t.part_v7_value,vt=t.inner_side_color,bt=t.outer_side_color,ft=t.cylinder_lock,yt=t.sealer,ht=t.lever_lock,gt=t.eccentric;return"\n  ".concat('\n  <div class="modal">\n    <div class="modal__container">\n      <button class="modal__close btn-reset" id="modal-close" aria-label="Закрыть модальное окно"></button>\n      <form class="modal-form">\n        <input type="text" name="name" placeholder="Ваше имя" required>\n        <input type="tel" name="phone" placeholder="Номер телефона" required>\n        <input class="btn-reset btn btn--primary" type="submit" value="Позвонить мне">\n      </form>\n    </div>\n  </div>\n','\n  <div class="product">\n    <div class="product-image">\n      <div class="product-image__current">\n        <img src="https://dver.com/xml/images/').concat(i,'.jpeg" alt="').concat(s,'">\n      </div>\n      ').concat(c?'\n          <div class="product-image__list">\n            '.concat(c.map((function(t){return'\n              <button\n                class="product-image__item btn-reset"\n                data-value="'.concat(t.color,'"\n                data-type="color"\n              >\n                <img src="https://dver.com/xml/images/').concat(t.articul,'.jpeg" alt="').concat(t.name,'">\n              </button>\n            ')})).join(""),"\n          </div>\n          "):"",'\n    </div>\n    <div class="product__column">\n      <p class="product__sku">Артикул: ').concat(i,'</p>\n      <h2 class="product__name title title--xs">').concat(s,'</h2>\n      <div class="product__tags">\n        ').concat(p?'<span class="product__tag product__tag--sales">Распродажа</span>':"","\n        ").concat(u?'<span class="product__tag product__tag--new">Новое</span>':"","\n        ").concat(m?'<span class="product__tag product__tag--discounts">Акция</span>':"",'\n      </div>\n      <div class="product-price">\n        <div class="product-price__column">\n          <small class="product-price__type text text--sm">Розн. цена за полотно</small>\n          <h3 class="product-price__count title title--sm">').concat(_(v),' &#8381;</h3>\n          <button class="product-price__cta btn-reset btn btn--primary" id="add-to-cart">В корзину</button>\n        </div>\n        <div class="product-price__column">\n          <small class="product-price__type text text--sm">Розн. цена за текущую комплект.</small>\n          <h3 class="product-price__count title title--sm" data-price-display></h3>\n          <button class="product-price__cta btn-reset btn btn--primary" data-modal-open>Вызов замерщика</button>\n        </div>\n      </div>\n      ').concat(n?'\n          <div class="product__sizes">\n            <p class="product__label">Размеры:</p>\n            <div class="product__wrapper">\n              '.concat(n.map((function(t){return'\n                <button\n                  class="product__size btn-reset btn btn--secondary '.concat(t.size===y?"product__size--active":"",'"\n                  data-value="').concat(t.size,'"\n                  data-type="size"\n                >\n                  ').concat(t.size,"\n                </button>\n                ")})).join(""),"\n            </div>\n          </div>\n          "):"","\n      ").concat(c?'\n          <div class="product__colors">\n            <p class="product__label">Цвета:</p>\n            <div class="product__wrapper">\n              '.concat(c.map((function(t){return'\n                <button\n                  class="product__color btn-reset '.concat(t.color===f?"product__color--active":"",'"\n                  aria-label="').concat(t.name,'"\n                  data-value="').concat(t.color,'"\n                  data-type="color"\n                >\n                  <img src="https://dver.com/xml/colors_images/').concat(t.color.toLowerCase(),'.jpg" alt="" aria-hidden="true">\n                </button>\n                ')})).join(""),"\n            </div>\n          </div>\n          "):"","\n      ").concat(d?'\n          <div class="product__colors">\n            <p class="product__label">Цвет наружный:</p>\n            <div class="product__wrapper">\n              '.concat(d.map((function(t){return'\n                <button\n                  class="product__color btn-reset '.concat(t.color===bt?"product__color--active":"",'"\n                  aria-label="').concat(t.name,'"\n                  data-value="').concat(t.color,'"\n                  data-type="outer_side_color"\n                >\n                  <img src="https://dver.com/xml/colors_images/').concat(t.color.toLowerCase(),'.jpg" alt="" aria-hidden="true">\n                </button>\n                ')})).join(""),"\n            </div>\n          </div>\n          "):"","\n      ").concat(r?'\n          <div class="product__colors">\n            <p class="product__label">Цвет внутренний:</p>\n            <div class="product__wrapper">\n              '.concat(r.map((function(t){return'\n                <button\n                  class="product__color btn-reset '.concat(t.color===vt?"product__color--active":"",'"\n                  aria-label="').concat(t.name,'"\n                  data-value="').concat(t.color,'"\n                  data-type="inner_side_color"\n                >\n                  <img src="https://dver.com/xml/colors_images/').concat(t.color.toLowerCase(),'.jpg" alt="" aria-hidden="true">\n                </button>\n                ')})).join(""),"\n            </div>\n          </div>\n          "):"","\n      ").concat(a&&a[0]?'<div class="product__glasses">\n            <p class="product__label">Тип стекла:</p>\n            <div class="product__wrapper">\n              '.concat(a.map((function(t){return'\n                <button\n                  class="product__glass btn-reset '.concat(t.glass===w?"product__glass--active":"",'"\n                  aria-label="').concat(t.glass,'"\n                  data-value="').concat(t.glass,'"\n                  data-type="glass"\n                >\n                  <img src="https://dver.com/xml/colors_images/').concat(t.name,'.jpg" alt="" aria-hidden="true">\n                </button>\n                ')})).join(""),"\n            </div>\n          </div>"):"",'\n      <div class="product__info">\n        <div class="tabs">\n          <button class="tabs__item tabs__item--active text text--md" data-id="description">Описание</button>\n          ').concat(A||z||I||C||H||N||J||$||R||G||X||K||nt||et||ot||dt||st||pt||_t?'<button class="tabs__item text text--md" data-id="equipment">Комплектующие</button>':"",'\n        </div>\n        <table class="product-table active" id="description" data-tab-content>\n          <tr class="product-table__row">\n            <td class="product-table__data">Артикул:</td>\n            <td class="product-table__data">').concat(i,'</td>\n          </tr>\n          <tr class="product-table__row">\n            <td class="product-table__data">Модель:</td>\n            <td class="product-table__data">').concat(b,"</td>\n          </tr>\n          ").concat(f?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Цвет:</td>\n                <td class="product-table__data">'.concat(f,"</td>\n              </tr>\n              "):"","\n          ").concat(W?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Бренд:</td>\n                <td class="product-table__data">'.concat(W,"</td>\n              </tr>\n              "):"","\n          ").concat(Y?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Вес:</td>\n                <td class="product-table__data">'.concat(Y,"</td>\n              </tr>\n              "):"","\n          ").concat(Z?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Группа:</td>\n                <td class="product-table__data">'.concat(Z,"</td>\n              </tr>\n              "):"","\n          ").concat(tt?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Группа 2:</td>\n                <td class="product-table__data">'.concat(tt,"</td>\n              </tr>\n              "):"","\n          ").concat(h?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Тип полотна:</td>\n                <td class="product-table__data">'.concat(h,"</td>\n              </tr>\n              "):"","\n          ").concat(g?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Тип покрытия:</td>\n                <td class="product-table__data">'.concat(g,"</td>\n              </tr>\n              "):"","\n          ").concat(x?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Толщина:</td>\n                <td class="product-table__data">'.concat(x,"</td>\n              </tr>\n            "):"","\n          ").concat(q?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Стиль:</td>\n                <td class="product-table__data">'.concat(q,"</td>\n              </tr>\n              "):"","\n          ").concat(w?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Стекло:</td>\n                <td class="product-table__data">'.concat(w,"</td>\n              </tr>\n              "):"","\n          ").concat(L?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Упаковка:</td>\n                <td class="product-table__data">'.concat(L,"</td>\n              </tr>\n              "):"",'\n          <tr class="product-table__row">\n            <td class="product-table__data">Вид номенклатуры:</td>\n            <td class="product-table__data">').concat(l,"</td>\n          </tr>\n          ").concat(j?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Особенности:</td>\n                <td class="product-table__data">'.concat(j,"</td>\n              </tr>\n              "):"","\n          ").concat(vt?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Цвет внутри:</td>\n                <td class="product-table__data">'.concat(vt,"</td>\n              </tr>\n              "):"","\n          ").concat(bt?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Цвет снаружи:</td>\n                <td class="product-table__data">'.concat(bt,"</td>\n              </tr>\n              "):"","\n          ").concat(ft?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Цилиндровый замок:</td>\n                <td class="product-table__data">'.concat(ft,"</td>\n              </tr>\n              "):"","\n          ").concat(gt?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Эксцентрик:</td>\n                <td class="product-table__data">'.concat(gt,"</td>\n              </tr>\n              "):"","\n          ").concat(yt?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Уплотнитель:</td>\n                <td class="product-table__data">'.concat(yt,"</td>\n              </tr>\n              "):"","\n          ").concat(ht?'\n              <tr class="product-table__row">\n                <td class="product-table__data">Сувальдный замок:</td>\n                <td class="product-table__data">'.concat(ht,"</td>\n              </tr>\n              "):"",'\n        </table>\n        <dl class="product-complect" id="equipment" data-tab-content>\n          ').concat([{description:A,price:E},{description:z,price:k},{description:I,price:T},{description:C,price:O}].map((function(t){var n=t.description,c=t.price;return"\n              ".concat(n?'\n                  <div class="product-complect__item">\n                    <dt class="product-complect__item-name title title--sm">Коробка</dt>\n                    <dd class="product-complect__item-description text text--md">\n                      '.concat(n," - ").concat(_(c)," &#8381;\n                    </dd>\n                  </div>\n                  "):"","\n            ")})).join(""),"\n          ").concat([{description:H,price:M},{description:N,price:U},{description:J,price:P},{description:$,price:D}].map((function(t){var n=t.description,c=t.price;return"\n              ".concat(n?'\n                  <div class="product-complect__item">\n                    <dt class="product-complect__item-name title title--sm">Наличник</dt>\n                    <dd class="product-complect__item-description text text--md">\n                      '.concat(n," - ").concat(_(c)," &#8381;\n                    </dd>\n                  </div>\n                  "):"","\n            ")})).join(""),"\n          ").concat(R?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">Притворная планка</dt>\n                <dd class="product-complect__item-description text text--md">\n                  '.concat(R," - ").concat(_(B)," &#8381;\n                </dd>\n              </div>\n              "):"","\n          ").concat(G?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">Добор</dt>\n                <dd class="product-complect__item-description text text--md">\n                  '.concat(G," - ").concat(_(V)," &#8381;\n                </dd>\n              </div>\n              "):"","\n          ").concat(X?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">Добор</dt>\n                <dd class="product-complect__item-description text text--md">\n                  '.concat(X," - ").concat(_(F)," &#8381;\n                </dd>\n              </div>\n              "):"","\n          ").concat(K?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">Добор</dt>\n                <dd class="product-complect__item-description text text--md">\n                  '.concat(K," - ").concat(_(Q)," &#8381;\n                </dd>\n              </div>\n              "):"","\n          ").concat(nt?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(nt,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(ct," шт.\n                </dd>\n              </div>\n              "):"","\n          ").concat(et?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(et,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(at," шт.\n                </dd>\n              </div>\n              "):"","\n          ").concat(ot?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(ot,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(rt," шт.\n                </dd>\n              </div>\n              "):"","\n          ").concat(dt?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(dt,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(it," шт.\n                </dd>\n              </div>\n              "):"","\n          ").concat(st?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(st,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(lt," шт.\n                </dd>\n              </div>\n              "):"","\n          ").concat(pt?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(pt,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(ut," шт.\n                </dd>\n              </div>\n              "):"","\n          ").concat(_t?'\n              <div class="product-complect__item">\n                <dt class="product-complect__item-name title title--sm">'.concat(_t,'</dt>\n                <dd class="product-complect__item-description text text--md">\n                  ').concat(mt," шт.\n                </dd>\n              </div>\n              "):"",'\n        </dl>\n      </div>\n    </div>\n    <div class="product__equipments">\n      <div class="product-equipment">\n        <div class="product-equipment__top">\n          <h4 class="product-equipment__name title title--xs">Полотно</h4>\n        </div>\n        <div class="product-equipment__bottom">\n          <p class="product-equipment__price text text--md" data-price="').concat(v,'">').concat(_(v)," &#8381;</p>\n          ").concat(e(1,1,1),"\n        </div>\n      </div>\n      ").concat([{description:A,price:E},{description:z,price:k},{description:I,price:T},{description:C,price:O}].map((function(t,n){var c=t.description,a=t.price;return"\n          ".concat(c?'\n              <div class="product-equipment">\n                <div class="product-equipment__top">\n                  <h4 class="product-equipment__name title title--xs">Коробка</h4>\n                  '.concat(o(c),'\n                </div>\n                <div class="product-equipment__bottom">\n                  <p class="product-equipment__price text text--md" data-price="').concat(a,'">').concat(_(a)," &#8381;</p>\n                  ").concat(e(n?0:function(t){return t.includes("HGX")||t.includes("INVISIBLE")?1:2.5}(S),.5),"\n                </div>\n              </div>\n              "):"","\n        ")})).join(""),"\n      ").concat([{description:H,price:M},{description:N,price:U},{description:J,price:P},{description:$,price:D}].map((function(t,n){var c=t.description,a=t.price;return"\n          ".concat(c?'\n              <div class="product-equipment">\n                <div class="product-equipment__top">\n                  <h4 class="product-equipment__name title title--xs">Наличник</h4>\n                  '.concat(o(c),'\n                </div>\n                <div class="product-equipment__bottom">\n                  <p class="product-equipment__price text text--md" data-price="').concat(a,'">').concat(_(a)," &#8381;</p>\n                  ").concat(e(n?0:function(t){return t.includes("HGX")?5:t.includes("INVISIBLE")?0:5}(S)),"\n                </div>\n              </div>\n              "):"","\n        ")})).join("")," \n      ").concat(R?'\n          <div class="product-equipment">\n            <div class="product-equipment__top">\n              <h4 class="product-equipment__name title title--xs">Притворная планка</h4>\n              '.concat(o(R),'\n            </div>\n            <div class="product-equipment__bottom">\n              <p class="product-equipment__price text text--md" data-price="').concat(B,'">').concat(_(B)," &#8381;</p>\n              ").concat(e(),"\n            </div>\n          </div>\n          "):"","\n      ").concat(G?'\n          <div class="product-equipment">\n            <div class="product-equipment__top">\n              <h4 class="product-equipment__name title title--xs">Добор</h4>\n              '.concat(o(G),'\n            </div>\n            <div class="product-equipment__bottom">\n              <p class="product-equipment__price text text--md" data-price="').concat(V,'">').concat(_(V)," &#8381;</p>\n              ").concat(e(),"\n            </div>\n          </div>\n          "):"","\n      ").concat(X?'\n          <div class="product-equipment">\n            <div class="product-equipment__top">\n              <h4 class="product-equipment__name title title--xs">Добор</h4>\n              '.concat(o(X),'\n            </div>\n            <div class="product-equipment__bottom">\n              <p class="product-equipment__price text text--md" data-price="').concat(F,'">').concat(_(F)," &#8381;</p>\n              ").concat(e(),"\n            </div>\n          </div>\n          "):"","\n      ").concat(K?'\n          <div class="product-equipment">\n            <div class="product-equipment__top">\n              <h4 class="product-equipment__name title title--xs">Добор</h4>\n              '.concat(o(K),'\n            </div>\n            <div class="product-equipment__bottom">\n              <p class="product-equipment__price text text--md" data-price="').concat(Q,'">').concat(_(Q)," &#8381;</p>\n              ").concat(e(),"\n            </div>\n          </div>\n          "):"","\n    </div>\n  </div>\n")}(r,i,d,s,l,u)),z(),p(),g(),function(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];document.querySelectorAll(".counter").forEach((function(t){var c=t.querySelector(".counter__display"),e={"-":c.stepDown.bind(c),"+":c.stepUp.bind(c)},o=t.querySelector(".counter__action--increment"),r=t.querySelector(".counter__action--decrement");c.addEventListener("input",a),[o,r].forEach((function(t){t.addEventListener("click",(function(t){var n=t.target.value;e[n]()}))})),n&&n.forEach((function(t){c.addEventListener("input",t),o.addEventListener("click",t),r.addEventListener("click",t)}))}))}(z),m=[{name:"Главная",path:"/"},{name:A[j],path:"/catalog/".concat(j)},{name:t.product.model||"Карточка товара",path:"/product?index=".concat(L)}],f.innerHTML="",m.forEach((function(t){var n=t.name,c=t.path;f.insertAdjacentHTML("beforeend",'\n        <li class="breadcrumbs__item">\n          <a href="'.concat(c,'" class="link-reset text text--sm text--gray">').concat(n,"</a>\n        </li>\n      "))})),document.title=t.product.name,document.querySelectorAll("[data-type]").forEach((function(c){return c.addEventListener("click",k.bind(n,t.product))}));var v=new URL(location);v.searchParams.set("index",t.product.index),history.pushState(null,"",v.toString()),document.querySelector("#add-to-cart").addEventListener("click",I.bind(n,t.product))})).catch((function(){b(),S.innerHTML="<h2 class='title title--xl' style='margin: 0 0 5rem'>Продукт не найден</h2>",document.title="Продукт не найден"}))}function z(){var t=S.querySelector("[data-price-display]"),n=S.querySelectorAll("[data-price]"),e=S.querySelectorAll("[data-multiplier]"),a=c(n).reduce((function(t,n,c){return t+ +n.dataset.price*e[c].value}),0);t.setAttribute("data-price-sum",a),t.innerHTML="".concat(_(a)," &#8381;")}function k(t,n){var e=n.target.dataset.type,a=n.target.dataset.value,o=new URLSearchParams;c(new Set(c(document.querySelectorAll("[data-type]")))).forEach((function(n){var c=n.dataset.type;e===c?o.set(e,a):o.set(c,t[c])})),o.set("index",t.index),o.set("model",t.model),v(S,!0),E("/".concat(j,"/change?").concat(o.toString()))}function I(t){var n=m().length;!function(t){var n=m();if(!n)return localStorage.setItem("cart",JSON.stringify(t));n.push(t),localStorage.setItem("cart",JSON.stringify(n))}({index:n||0,count:1,link:location.href,articul:t.articul,name:t.name,price:document.querySelector("[data-price-display]").dataset.priceSum,equipments:c(document.querySelectorAll(".product-equipment")).map((function(t){return{name:t.querySelector(".product-equipment__name").textContent,count:t.querySelector(".counter__display").value}}))})}v(q),E("/".concat(j,"?index=").concat(L))})();